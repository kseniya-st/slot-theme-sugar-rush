"use strict";
(()=>{function L(e,t){let o=0,i;return function(...s){let r=Date.now();o&&r-o<=t&&clearTimeout(i),o=r,i=setTimeout(()=>e(...s),t)}}var N=".js-header",k=".js-burger",b=".js-menu",m=".js-menu__item",A=".js-menu__list",T=".submenu",O="item_left",w="no-scroll",E="menu-active",u="active",q=()=>{let e=document.querySelector(N);e&&new f(e).init()},f=class{constructor(t){this.header=t,this.currentWidth=window.innerWidth,this.burgerEl=document.querySelector(k),this.menuEl=document.querySelector(b),this.menuItems=this.menuEl?.querySelectorAll(m),this.firstLevelMenuItems=this.menuEl?.querySelectorAll(`:scope > ${A} > ${m}`)}init(){this.initBurger(),this.initMenu(),this.updateOrientation(),this.setHeaderHeight(),window.addEventListener("resize",L(()=>{this.handleResize()},100))}handleResize(){this.currentWidth!==window.innerWidth&&(this.currentWidth=window.innerWidth,this.closeMenu(),this.updateOrientation(),this.setHeaderHeight())}initBurger(){this.burgerEl?.addEventListener("click",()=>this.toggleMenu())}initMenu(){this.menuItems?.forEach(t=>{t.querySelector(":scope > a")?.addEventListener("click",i=>{t.classList.contains(u)&&i.preventDefault()}),t.addEventListener("click",i=>{i.stopPropagation(),this.toggleMenuItem(t)})})}toggleMenuItem=t=>{t.classList.contains(u)||this.closeItemsInParentList(t),t.classList.toggle(u)};closeItemsInParentList=t=>{t.closest(A).querySelectorAll(`:scope > ${m}`).forEach(l=>l.classList.remove(u))};toggleMenu(){this.header.classList.contains(E)?this.closeMenu():this.openMenu()}closeMenu(){this.header?.classList.remove(E),document.body.classList.remove(w),this.menuItems?.forEach(t=>t.classList.remove(u))}openMenu(){window.scrollTo({top:0,left:0}),this.header?.classList.add(E),document.body.classList.add(w)}setHeaderHeight(){let t=this.header.getBoundingClientRect().height;this.header.style.setProperty("--header-height",`${t}px`)}updateOrientation(){this.firstLevelMenuItems?.forEach(t=>{t.classList.remove(O);let o=t.querySelectorAll(`:scope > ${T}`),i=Array.from(o).reduce((l,s)=>{s.style.display="block";let r=s.getBoundingClientRect().width,c=s.querySelectorAll(T),a=0;return c.forEach(n=>{n.style.display="block",a=Math.max(a,n.getBoundingClientRect().width),n.removeAttribute("style")}),s.removeAttribute("style"),l+r+a},0);window.innerWidth-t.getBoundingClientRect().left-80<i&&t.classList.add(O)})}};q();var W=".js-scroll-list",M="scroll-end",S="scrolling",B=()=>{document.querySelectorAll(W).forEach(t=>new _(t))},_=class{constructor(t){this.scrollContainer=t,this.scrollSpeed=1,this.horizontalScrollInit()}horizontalScrollInit(){let t=this.scrollContainer;if(t){let o=!1,i,l;this.checkScrollEnd(t),t.addEventListener("mousedown",s=>{o=!0,document.body.style.cursor="grabbing",i=s.pageX-t.offsetLeft,l=t.scrollLeft}),t.addEventListener("mousemove",s=>{if(!o)return;s.preventDefault();let c=(s.pageX-t.offsetLeft-i)*this.scrollSpeed;t.scrollLeft=l-c,this.checkScrollEnd(t),t.parentNode.classList.add(S)}),t.addEventListener("mouseup",()=>{o=!1,document.body.style.cursor="default",t.parentNode.classList.remove(S)}),t.addEventListener("mouseleave",()=>{o=!1,document.body.style.cursor="default",t.parentNode.classList.remove(S)}),t.addEventListener("wheel",s=>{let r=s.deltaY>0,c=!r&&t.scrollLeft==0,a=r&&t.scrollLeft>=t.scrollWidth-t.clientWidth;c||a||t.scrollWidth>t.clientWidth&&(s.preventDefault(),t.scrollLeft+=s.deltaY)}),t.addEventListener("scroll",s=>{t.scrollWidth>t.clientWidth&&this.checkScrollEnd(t)})}return this}checkScrollEnd=(t,o=10)=>{t.scrollLeft+t.clientWidth>=t.scrollWidth-o?t.parentNode.classList.add(M):t.parentNode.classList.remove(M)}};B();var x=".sf-link",D=()=>{let e=document.querySelectorAll(x);!e||e.length<=0||e.forEach(t=>{t.addEventListener("click",j)})},j=e=>{let{target:t}=e;if(!t)return;let{sfA:o,prevent:i}=t.dataset;if(!(parseInt(i)>0)&&o)try{document.location.href=atob(o)}catch(l){console.error("Failed to decode Base64 string:",l)}};D();var U=".js-lang",g="active",G=()=>{let e=document.querySelectorAll(U),t=window.innerWidth;e.forEach(o=>{H(o)}),window.addEventListener("resize",L(()=>{t!=window.innerWidth&&(t=window.innerWidth,e.forEach(o=>o.classList.remove(g)))},100))};function H(e){e.addEventListener("click",()=>{e.classList.toggle(g,!e.classList.contains(g))})}G();var z=()=>{let e=GLightbox({selector:"[data-glightbox]"})};z();var P=".js-modal",$=".js-modal__close",R=".js-modal__content",F=".js-modal__open",I=".js-modal__btn",V="js-modal__btn",K=".modal__title",X=".modal__body",Y="iframe",J="no-scroll",Q="active",Z=()=>{let e=document.querySelector(P);if(!e)return;let t=document.querySelectorAll(F),o=e?.querySelector($),i=e?.querySelector(R),l=e?.querySelector(X);o?.addEventListener("click",()=>{a(!1),c()}),e?.addEventListener("click",n=>{n.target.closest(R)||(a(!1),c())}),t.forEach(n=>{n.addEventListener("click",()=>s(n))});function s(n){c(),r(n),a(!0)}function r(n){let d=n.dataset.modalTitle,C=n.dataset.modalUrl,p=e?.querySelector(K),h=document.createElement("iframe");p&&d&&(p.textContent=d),h&&C&&(h.src=C);let y=n.parentNode?.querySelector(I);if(y){let v=y.cloneNode(!0);v.classList.add(V),l.insertAdjacentElement("beforebegin",v)}l?.appendChild(h)}function c(){let n=e.querySelector(I);n&&n.remove();let d=l.querySelector(Y);d&&d.remove()}function a(n){e?.classList.toggle(Q,n),document.body.classList.toggle(J,n)}};Z();})();
